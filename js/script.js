"use strict";document.addEventListener("DOMContentLoaded",()=>{noScrollDocumentWithOpenedBurger(),closeBurgerWithClickedItem(),scrollDocument(),addDotsBetweenCircles(),window.addEventListener("resize",addDotsBetweenCircles),inputNameOnlyLetters(),checkInputMail(),customizeSelect(),changeRange(),showNameAndSizeFile(),getFullYearInCopyright(),settlerBetweenFooterElems()});const noScrollClass="no-scroll",styckyClass="sticky",openClass="open",selectedClass="selected",body=document.body,moveClass=(e,t,...l)=>{l.forEach(l=>l.classList[e](t))};function noScrollDocumentWithOpenedBurger(){let e=()=>{let e=document.querySelectorAll(".fix"),t=window.innerWidth-body.offsetWidth+"px",l=e=>{e.style.paddingRight=t};moveClass("toggle",noScrollClass,body),e.length>0&&e.forEach(e=>l(e)),e.forEach(e=>l(e)),l(body)};((...t)=>{t.forEach(t=>t.addEventListener("click",e))})(document.querySelector(".burger-btn"))}function closeBurgerWithClickedItem(){let e=document.querySelector(".burger-checkbox"),t=document.querySelector(".nav__list"),l=t.querySelectorAll("a");l.forEach(t=>t.addEventListener("click",()=>{e.checked&&(moveClass("remove",noScrollClass,body),e.checked=!1)}))}function scrollDocument(){window.onscroll=()=>{let e=document.querySelector(".header"),t=e.offsetTop;window.scrollY>t?moveClass("add",styckyClass,e):moveClass("remove",styckyClass,e)}}function addDotsBetweenCircles(){let e=document.querySelectorAll(".circle"),t=document.querySelectorAll(".separator");t.forEach(e=>e.remove());for(let l=0;l<e.length-1;l++){let n=e[l],r=e[l+1],o=n.getBoundingClientRect(),a=r.getBoundingClientRect(),c=a.left-(o.right+20),s=Math.max(Math.floor(c/20),0);if(s>0){let i=document.createElement("div");i.className="separator";for(let u=0;u<s;u++){let d=document.createElement("div");d.className="dot",i.appendChild(d)}n.appendChild(i)}}}function settlerBetweenFooterElems(){let e=document.querySelector(".footer__row");if(!e||0===e.children.length)return;let t=Array.from(e.children);t.forEach((e,l)=>{if(l<t.length-1){let n=t[l+1],r=e.getBoundingClientRect().top,o=n.getBoundingClientRect().top;if(10>=Math.abs(r-o)){let a=document.createElement("div");moveClass("add","settler",a),a.textContent="|",e.parentNode&&e.parentNode.insertBefore(a,e.nextSibling)}}})}function inputNameOnlyLetters(){let e=document.querySelectorAll('input[name="name"]');e.forEach(e=>e.addEventListener("input",function(){this.value=this.value.replace(/[^A-Za-zА-Яа-яЁё]+/g,"")}))}function checkInputMail(){let e=document.querySelectorAll('input[type="email"]');e.forEach(e=>e.addEventListener("input",e=>{let t=e.target;t.value&&!/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi.test(t.value)?t.setCustomValidity("Введите корректный email"):t.setCustomValidity("")}))}function customizeSelect(){let e=document.querySelectorAll(".select");e.length>0&&e.forEach(e=>{let t=e.querySelector(".select__trigger"),l=t.querySelector("span"),n=e.querySelector(".select__wrapper"),r=n.querySelectorAll("li");t.addEventListener("click",function(){moveClass("toggle",openClass,this.parentElement)}),r.forEach(e=>e.addEventListener("click",function(){l.textContent=this.textContent,t.setAttribute("data-value",this.getAttribute("data-value")||""),moveClass("remove",openClass,n.parentElement)})),document.addEventListener("click",e=>{t.contains(e.target)||n.contains(e.target)||moveClass("remove",openClass,n.parentElement)})})}function changeRange(){let e=document.querySelectorAll(".range");e.length>0&&e.forEach(e=>{let t=e.querySelector("input[type=range]"),l=e.querySelector(".range__per");l.textContent=t.value+"%",t.addEventListener("input",function(){l.textContent=this.value+"%",this.setAttribute("value",this.value)})})}function showNameAndSizeFile(){let e=document.querySelector(".btn-uploadFile"),t=e.querySelector("span"),l=e.querySelector("input[type=file]");l.addEventListener("change",e=>{let l=e.target;if(l&&l.files){let n=l.files[0],r=n.name||"",o=n.size;t.textContent=`${r.slice(0,15)}... / ${Math.round(o/1e3)} kB`}})}function getFullYearInCopyright(){let e=document.getElementById("year"),t=String(new Date().getFullYear());e.textContent=t}